
<div id="visitors_counts_duration_container" style="width:600px; height:400px;" %></div>

<script type="text/javascript">

        $(function () {
                // var processed_json = new Array();   
                $.getJSON('/async/visits', 
                                {
                                    ids: gon.ids,
                                    chart: 'visitors_duration_counts_scatter'
                                },
                                function(data) {

                    // draw chart
                     $('#visitors_counts_duration_container').highcharts({ 
                          chart: {
        type: 'scatter',
        zoomType: 'xy'
    },
    title: {
        text: 'Time Spent By an Avatar by Number of Visits'
    },
    xAxis: {
        title: {
            enabled: true,
            text: 'Number of Visits'
        },
        min: 0,
        startOnTick: true,
        endOnTick: true,
        showLastLabel: true
    },
    yAxis: {
        title: {
            text: 'Time Spent (minutes)'
        },
        min: 0
    },
    legend: {
        enabled: false
    },
    plotOptions: {
        scatter: {
            marker: {
                radius: 5,
                states: {
                    hover: {
                        enabled: true,
                        lineColor: 'rgb(100,100,100)'
                    }
                }
            },
            states: {
                hover: {
                    marker: {
                        enabled: false
                    }
                }
            },
            tooltip: {
                headerFormat: '<b>{point.point.name}</b><br>',
                pointFormat: '{point.x} visits, {point.y} minutes'
            }
        }
    },
    series: [{
        name: 'Avatars',
        // color: 'rgba(223, 83, 83, .5)',
        data: data
    }]
                    
                        // title: {
                        //     text: 'Time Spent By Visitors'
                        //     // text: gon.ids
                        // },
                    
                        // xAxis: [{
                        //     alignTicks: false,
                        //     visible: false
                        // }, {
                        //     title: { text: 'Time Spent (minutes)' },
                        //     alignTicks: false
                        // }],
                    
                        // yAxis: [{
                        //     visible: false
                        // }, {
                        //     title: { text: 'Count' }
                        // }],
                    
                        // plotOptions: {
                        //     histogram: {
                        //         accessibility: {
                        //             pointDescriptionFormatter: function (point) {
                        //                 var ix = point.index + 1,
                        //                     x1 = point.x.toFixed(3),
                        //                     x2 = point.x2.toFixed(3),
                        //                     val = point.y;
                        //                 return ix + '. ' + x1 + ' to ' + x2 + ', ' + val + '.';
                        //             }
                        //         }
                        //     }
                        // },
                        
                        // legend: {
                        // 	enabled: false
                        // },
                    
                        // series: [{
                        //     name: 'Durations',
                        //     type: 'histogram',
                        //     binsNumber: 'rice',
                        //     xAxis: 1,
                        //     yAxis: 1,
                        //     baseSeries: 's1',
                        //     zIndex: -1
                        // }, {
                        //     name: 'Data',
                        //     visible: false,
                        //     type: 'scatter',
                        //     data: data,
                        //     id: 's1',
                        //     marker: {
                        //         radius: 1.5
                        //     }
                        // }]
                    }); 
                });
            });


</script>